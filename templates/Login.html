{% load static %}
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - SAMU 192</title>
    <link rel="stylesheet" href="{% static 'css/login.css'%}" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
</head>

<body>
    <header class="topo">
        <h1>SAMU 192 - Serviço de Atendimento Móvel de Urgência</h1>
    </header>

    <main class="conteudo">
        <div class="container">
            <div class="logo-section">
                <img src="{% static 'img/Login.png'%}" alt="Logo completa do SAMU 192" />
            </div>
            <div class="login-box">
                <h2>Entre na Plataforma</h2>
                <form method="POST" action="{% url 'login' %}">
                    {% csrf_token %}
                    <input type="text" name="usuario" placeholder="Usuário" required>
                    <input type="password" name="senha" placeholder="Senha" required>
                    <button type="submit">Entrar</button>
                </form>
            </div>
        </div>
    </main>
     <div id="mensagem" style="display:none; padding:10px; margin:10px 20px;"></div>
<script>
    function mostrarMensagem(texto, tipo = "sucesso") {
        const msgDiv = document.getElementById("mensagem");
        msgDiv.textContent = texto;
        msgDiv.style.display = "block";
        msgDiv.classList.remove("mensagem-sucesso", "mensagem-erro");

        if (tipo === "erro" || tipo === "error") {
            msgDiv.classList.add("mensagem-erro");
        } else {
            msgDiv.classList.add("mensagem-sucesso");
        }

        setTimeout(() => {
            msgDiv.style.display = "none";
        }, 4000);
    }

    // Exibe mensagens do Django automaticamente
    {% if messages %}
        {% for message in messages %}
            {% if "error" in message.tags or "erro" in message.tags %}
                mostrarMensagem("{{ message }}", "erro");
            {% else %}
                mostrarMensagem("{{ message }}", "sucesso");
            {% endif %}
        {% endfor %}
    {% endif %}
</script>

</body>

</html>